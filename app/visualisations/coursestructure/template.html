<div class="metaactions">
<a ng-click="refreshData()" data-name="reload" class="refresh-cache btn btn-warning">
    <i class="fa fa-refresh"></i> Recache
</a>
<a ng-href="http://api.uqxdev.com/api/students/dates/{{course.currentCourse}}?format=csv" data-name="csv" class="csv-download btn btn-success">
    <i class="fa fa-file-excel-o"></i> CSV
</a>
</div>
<script>
    $('#filter_width').change(function() {
        console.log("WIDTH CHANGED"+$('#filter_width').val());
        $('ul#coursestructure').width($('#filter_width').val()+"%");
    });
    $('#filter_height').change(function() {
        console.log("WIDTH CHANGED");
        var zoom = $('#filter_height').val()/100;
        if(zoom < 0.1) {
            $('div.node').css({'font-size':'5px'});
        } else {
            $('div.node').css({'font-size':'inherit'});
        }
        $('div.node').css({'zoom':zoom});
    });
</script>
<div class="col-md-3">Width: <input id="filter_width" type="range" name="points" min="1" max="100" value="100"></div>
<div class="col-md-3">Height: <input id="filter_height" type="range" name="points" min="1" max="100" value="100"></div>
<div id="searchbox">
    <form class="navbar-form navbar-left" role="search">
        <div class="input-group">
            <span class="input-group-addon"><span class="glyphicon glyphicon-search"></span></span>
            <input type="text" id='searchbox' class="form-control" placeholder="Search" ng-model="searchText">
        </div>
    </form>
</div>
<script type="text/ng-template"  id="tree_item_renderer.html">
    <div class="node node_{{data.tag}}">
    <div ng-click="launchStructureModal(data)">
        &lt;{{data.tag}}&gt; <strong>{{data.display_name}}</strong> <em>{{ data.url_name }}</em>
    </div>
    <ul ng-if="data.tag != 'problem' && data.children.length > 0">
        <li ng-repeat="data in data.children | filter:searchText" ng-include="'tree_item_renderer.html'"></li>
    </ul>
    </div>
</script>
<ul id="coursestructure">
    <li ng-repeat="data in [coursecontent] | filter:searchText" ng-include="'tree_item_renderer.html'"></li>
</ul>